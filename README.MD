# ğŸšœ API Brain Agriculture

![Node.js](https://img.shields.io/badge/node-22.x-brightgreen)  

## ğŸŒ± VisÃ£o Geral

A **API Brain Agriculture** Ã© uma aplicaÃ§Ã£o backend desenvolvida para gerenciar dados do setor agrÃ­cola, incluindo produtores, fazendas, culturas e colheitas. ConstruÃ­da com **NestJS**, **PostgreSQL** e **TypeORM**, a API oferece uma estrutura escalÃ¡vel, segura e de fÃ¡cil manutenÃ§Ã£o, com foco em rastreabilidade e anÃ¡lise de dados do campo.

---

## ğŸ—ï¸ Arquitetura

- **Framework:** NestJS (com TypeScript e injeÃ§Ã£o de dependÃªncia)
- **Banco de Dados:** PostgreSQL com TypeORM
- **ORM:** TypeORM com suporte a UUIDs e migraÃ§Ãµes
- **Infraestrutura:** Docker + Railway
- **DocumentaÃ§Ã£o:** Swagger em `/api`

---

## ğŸ§© Diagrama de Entidades (ERD)

```mermaid
erDiagram
  PRODUCER ||--o{ FARM : has
  FARM ||--o{ FARM_CROP_HARVEST : contains
  HARVEST ||--o{ FARM_CROP_HARVEST : includes
  CROP ||--o{ FARM_CROP_HARVEST : produces

  PRODUCER {
    int id PK
    string producer_name
    string cpf_cnpj
  }

  FARM {
    UUID id PK
    string farm_name
    string city
    string state
    float total_area
    float arable_area
    float vegetation_area
    UUID producerId FK
  }

  HARVEST {
    UUID id PK
    string harvest_name
  }

  CROP {
    UUID id PK
    string crop_name
  }

  FARM_CROP_HARVEST {
    UUID id PK
    UUID farmId FK
    UUID cropId FK
    UUID harvestId FK
  }
```

## âš™ï¸ Principais Funcionalidades

- API RESTful para gerenciamento de produtores, fazendas, safras e culturas
- Swagger com OpenAPI disponÃ­vel em `/api`
- MigraÃ§Ãµes com TypeORM para controle de schema
- Suporte a SSL em ambientes de produÃ§Ã£o
- ModularizaÃ§Ã£o por recursos (`Producer`, `Farm`, `Dashboard` etc.)

---

## ğŸš€ ImplantaÃ§Ã£o

### ğŸ”— Link de produÃ§Ã£o (Railway)

> [https://brainagriculture-production.up.railway.app/api/](https://brainagriculture-production.up.railway.app/api/)

### ğŸ§° PrÃ©-requisitos

- Node.js v22
- Docker e Docker Compose

---

## ğŸ› ï¸ InstalaÃ§Ã£o

### Clonar o repositÃ³rio

```bash
git clone https://github.com/seu-usuario/brain-agriculture.git
cd brain-agriculture
```

### Instalar dependÃªncias

```bash
npm install
```

### Arquivo `.env`

Copie o arquivo `.env.example` e configure:

```env
DATABASE_URL=postgresql://usuario:senha@host:porta/banco
```

---

## ğŸ³ Docker

Para subir o ambiente com Docker:

```bash
docker-compose -f docker-compose.dev.yml up
```

---

## ğŸ§ª Testes

Executar todos os testes automatizados (Jest):

```bash
npm run test
```

---

## â–¶ï¸ ExecuÃ§Ã£o Local

```bash
npm run start:dev
```

Acesse a documentaÃ§Ã£o Swagger em:

```
http://localhost:3000/api
```

---

## ğŸ’¡ Exemplo de Endpoint

```http
GET /producers
```

**Resposta:**
```json
[
  {
    "id": 1,
    "producer_name": "JoÃ£o da Silva",
    "cpf_cnpj": "12345678900"
  }
]
```

---

## ğŸ“„ LicenÃ§a

Dilenio Enderle.
